#### 原图

 ![http1-http2](/Users/pengqinglan/Documents/企业高级应用开发技术/servlet 4.0/http1-http2.png)

#### 设置实验

关于上午图表的问题，这个实验设置之初是我在博客中看到看到说可以把HTTP/2的性能影响因素归结于"延迟"和"请求数目"[1]，本来应该还有一个实验是关于一个页面请求数量与加载时间的对比，表现在图表上横轴是请求的数量（个），纵轴是加载的时间（ms）。

#### 延迟与加载时间

延迟当然是包括在加载时间内的，当然在延迟相同和请求个数相同的情况下使用HTTP/2协议和使用HTTP1.1协议具有相同的公平性，我想说的延迟其实和页面的加载时间是有关系的，当网络出现了阻塞[2]的时候，延迟变高，丢包率上升，如下图：

**雅虎的平均延迟为399ms，丢包率为14.6%** ![Screen Shot 2017-01-09 at 4.32.17 PM](/Users/pengqinglan/Desktop/Screen Shot 2017-01-09 at 4.32.17 PM.png)

**网易的平均延迟为12ms，丢包率为0**![D85F5D7D-7F16-4511-B807-8EE72F79C952](/Users/pengqinglan/Desktop/D85F5D7D-7F16-4511-B807-8EE72F79C952.png)

因为两种HTTP协议传输报文的格式和方法均不相同，所以在同一网络状况下得到的加载时间也不相同，所以我在试验中横轴的Latency其实想表达的是网络状况，即在网络状况不好的情况下HTTP/2协议相对于HTTP1.1协议有较大幅度的性能提升。

### 参考

[1] 深度开源. 深入研究：http2 的真正性能到底如何[EB/OL].http://www.open-open.com/lib/view/open1476951473517.html, 2016-10-20.

[2] 谢希仁. 计算机网络第五版[M]. 电子工业出版社, 2008.