### 一、五大算法

* 分治法
* 贪心法
* 动态规划
* 回溯与分支定界
* 近似算法

### 二、问题的提出与解决

要看清要解决问题的实质，进而选择不同类型的算法来解决，以下内容节选自 [1]：

**1. 计算的本质**

计算机的本质是一个状态机，内存里存储的所有数据构成了当前的状态，CPU只能利用当前的状态计算出下一个状态（不要纠结硬盘之类的外部存储，就算考虑他们也只是扩大了状态的存储容量而已，并不能改变下一个状态只能从当前状态计算出来这一条铁律）

当你企图使用计算机解决一个问题是，其实就是在思考如何将这个**问题表达成状态**（用哪些变量存储哪些数据）以及如何在**状态中转移**（怎样根据一些变量计算出另一些变量）。所以所谓的空间复杂度就是为了支持你的计算所必需存储的状态最多有多少，所谓时间复杂度就是从初始状态到达最终状态中间需要多少步！

**2. 什么是递推**

以计算斐波那契数列为例，每一个非波那契数就是这个问题的一个状态，每求一个新数字只需要之前的两个状态。所以同一个时刻，最多只需要保存两个状态，空间复杂度就是常数；每计算一个新状态所需要的时间也是常数且状态是线性递增的，所以时间复杂度也是线性的。

上面这种状态计算很直接，只需要依照固定的模式从旧状态计算出新状态就行（$a_i=a_{i-1}+a_{i-2}$），不需要考虑是不是需要更多的状态，也不需要选择哪些旧状态来计算新状态。对于这样的解法，我们叫递推。

**3. 什么是阶段**

非波那契那个例子过于简单，以至于让人忽视了阶段的概念，所谓阶段是指随着问题的解决，在同一个时刻可能会得到的不同状态的集合。非波那契数列中，每一步会计算得到一个新数字，所以每个阶段只有一个状态。想象另外一个问题情景，假如把你放在一个围棋棋盘上的某一点，你每一步只能走一格，因为你可以东南西北随便走，所以你当你同样走四步可能会处于很多个不同的位置。从头开始走了几步就是第几个阶段，走了n步可能处于的位置称为一个状态，走了这n步所有可能到达的位置的集合就是这个阶段下所有可能的状态。

**4. 一个阶段的最优可以由前一个阶段的最优得到 **

假如问题有n个阶段，每个阶段都有多个状态，不同阶段的状态数不必相同，一个阶段的一个状态可以得到下个阶段的所有状态中的几个。那我们要计算出最终阶段的状态数自然要经历之前每个阶段的某些状态。

好消息是，有时候我们并不需要真的计算所有状态，比如这样一个棋盘问题：从棋盘的左上角到达右下角最短需要几步。某个阶段确实可以有多个状态，正如这个问题中走 n 步可以走到很多位置一样。但是同样n步中，有哪些位置可以让我们在第 n+1 步中走的最远呢？没错，正是第 n 步中走的最远的位置。换成一句熟悉话叫做“**下一步最优是从当前最优得到的**”。所以为了计算最终的最优值，只需要存储每一步的最优值即可，解决符合这种性质的问题的算法就叫贪心。如果只看最优状态之间的计算过程是不是和非波那契数列的计算很像？所以计算的方法是递推。

**5. 如果一个阶段的最优无法用前一个阶段的最优得到**

再来一个迷宫的例子。在计算从起点到终点的最短路线时，你不能只保存当前阶段的状态，因为题目要求你最短，所以你必须知道之前走过的所有位置。因为即便你当前在的位置不变，之前的路线不同会影响你的之后走的路线。这时你需要保存的是之前**每个阶段所经历的那个状态**，根据这些信息才能计算出下一个状态！

每个阶段的状态或许不多，但是每个状态都可以转移到下一阶段的多个状态，所以解的**复杂度就是指数**的，因此时间复杂度也是指数的。刚刚提到的之前的路线会影响到下一步的选择，这个令人不开心的情况就叫做**有后效性**。

有一类问题，看似需要之前所有的状态，其实不用。不妨也是拿最长上升子序列的例子来说明为什么他不必需要暴力搜索，进而引出动态规划的思路。

假装我们年幼无知想用搜索去寻找最长上升子序列。怎么搜索呢？需要从头到尾依次枚举是否选择当前的数字，每选定一个数字就要去看看是不是满足“上升”的性质，这里第 i 个阶段就是去思考是否要选择第 i 个数，第 i 个阶段有两个状态，分别是选和不选。哈哈，依稀出现了刚刚迷宫找路的影子！每次当我决定要选择当前数字的时候，只需要和之前选定的一个数字比较就行了！这是和之前迷宫问题的本质不同！这就可以纵容我们不需要记录之前所有的状态啊！既然我们的选择已经不受之前状态的组合的影响了，那时间复杂度自然也不是指数的了啊！虽然我们不在乎某序列之前都是什么元素，但我们还是需要这个序列的长度的。所以我们只需要记录以某个元素结尾的 LIS 长度就好！因此第 i 个阶段的最优解只是由前 i-1 个阶段的最优解得到的，然后就得到了DP方程
$$
LIS(i) = max{LIS(j)+1} \ \ \ \ \ j<i \ \ \  and\ \ \ a[j]<a[i]
$$

### 三、选择方法

所以一个问题是该用递推、贪心、搜索还是动态规划，完全是由这个问题本身阶段间状态的转移方式决定的！

1. 每个阶段只有一个状态：**递推**
2. 每个阶段的最优状态都是由上一个阶段的最优状态得到的：**贪心**
3. 每个阶段的最优状态是由之前所有阶段的状态的组合得到的：**搜索**
4. 每个阶段的最优状态可以从之前某个阶段的某个或某些状态直接得到而不管之前这个状态是如何得到的：动态规划

每个阶段的最优状态可以从之前某个阶段的某个或某些状态直接得到叫做**最优子结构**。

不管之前这个状态是如何得到叫做**无后效性**。

### 参考文献

[1] 王勐, https://www.zhihu.com/question/23995189/answer/35429905

[2] 